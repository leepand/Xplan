(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e9a45fa"],{"5f4d":function(t,e,a){"use strict";a("f490")},"8e30":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",["all"===t.firstID?a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"实验组列表",params:{project_id:this.$route.params.project_id}}}},[a("el-button",{staticClass:"return-list"},[a("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"}}),t._v("实验组列表")])],1):t._e(),"all"!=t.firstID?a("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"分组实验列表",params:{project_id:this.$route.params.project_id,firstGroup:t.firstID}}}},[a("el-button",{staticClass:"return-list"},[a("i",{staticClass:"el-icon-d-arrow-left",staticStyle:{"margin-right":"5px"}}),t._v("实验组列表")])],1):t._e(),a("router-link",{staticStyle:{"text-decoration":"none",color:"#000000"},attrs:{to:{name:"创建实验服务"}}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px","margin-left":"10px"}}),t._v("新建实验实例")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.ApiList,"highlight-current-row":""},on:{"expand-change":t.expandExpClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("small",[a("b",[t._v("实验描述:")]),t._v("\n                    "+t._s(e.row.description)+"\n                ")]),a("br"),a("small",[a("b",[t._v("优化目标: ")]),a("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v("clicks")])],1),a("br"),a("br"),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.altListData,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name",label:"候选实例名称","min-width":"30%"}}),a("el-table-column",{attrs:{prop:"exposure_ratio",label:"曝光率(%)","min-width":"30%"}}),a("el-table-column",{attrs:{prop:"model_name",label:"使用模型","min-width":"40%"}})],1)]}}])}),a("el-table-column",{attrs:{type:"index",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"实验详情名称","min-width":"15%",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-icon",{attrs:{name:"name"}}),a("router-link",{staticStyle:{"text-decoration":"none",color:"#000000"},attrs:{to:{name:"查看实验详情",params:{api_id:e.row.id}}}},[t._v(t._s(e.row.name)+"\n                ")])]}}])}),a("el-table-column",{attrs:{prop:"altlist",label:"实验类型","min-width":"25%",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"mlExp"===e.row.app_type?"primary":"success"}},[t._v(t._s("mlExp"===e.row.app_type?"模型":"普通")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"result",label:"创建时间","min-width":"19%",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.moment(e.row.updateTime).format("YYYY-DD-MM HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"description",label:"实验描述","min-width":"21%",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(e.row.description))])]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"20%",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"text-align":"right"},attrs:{type:"info",size:"small"},on:{click:function(a){return t.LookExpDetails(e.$index,e.row)}}},[t._v("查看")]),a("el-button",{staticStyle:{"text-align":"right"},attrs:{type:"danger",size:"small"},on:{click:function(a){return t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,"page-count":t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},i=[],r=(a("c5f6"),a("ac6a"),a("4ec3")),o=a("1157"),n=a.n(o),l=a("c1df"),c=a.n(l),p={data:function(){return{firstID:"all",altListData:[],moment:c.a,project:"",case:"",ApiList:[],listLoading:!1,searchName:"",total:0,page:1,sels:[],activeIndex:""}},methods:{LookExpDetails:function(t,e){var a=this;a.$router.push({name:"查看实验详情",params:{api_id:e.id}})},expandExpClick:function(t){this.getExpAltList(t.id)},getCaseApiList:function(){this.listLoading=!0;var t=this;console.log(t.page,this.$route.params.case_id,"datadatadata"),n.a.ajax({type:"get",url:r["p"]+"/api/automation/case_api_list",async:!0,data:{project_id:this.$route.params.project_id,page:t.page,name:t.searchName,case_id:this.$route.params.case_id},headers:{Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))},timeout:5e3,success:function(e){t.listLoading=!1,"999999"===e.code?(t.ApiList=[],t.total=e.data.total,e.data.data.forEach((function(e){e.result=!1,t.ApiList.push(e)}))):t.$message.error({message:e.msg,center:!0})}})},handleDel:function(t,e){var a=this;this.$confirm("确认删除该实验吗?","提示",{type:"warning"}).then((function(){a.listLoading=!0;var t=a;n.a.ajax({type:"post",url:r["p"]+"/api/automation/del_abcase",async:!0,data:JSON.stringify({project_id:Number(a.$route.params.project_id),case_id:Number(a.$route.params.case_id),api_id:Number(e.id),user_key:JSON.parse(sessionStorage.getItem("name"))}),headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))},timeout:5e3,success:function(e){"999999"===e.code?t.$message({message:"删除成功",center:!0,type:"success"}):t.$message.error({message:e.msg,center:!0}),t.getCaseApiList()}})})).catch((function(){}))},getExpAltList:function(t){var e=this;n.a.ajax({type:"get",url:r["p"]+"/api/experiment/case_exp_altlist",async:!0,data:{project_id:this.$route.params.project_id,exp_id:t},headers:{Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))},timeout:5e3,success:function(t){"999999"===t.code?e.altListData=t.data.data:e.$message.error({message:t.msg,center:!0})}})},handleCurrentChange:function(t){this.page=t,this.getCaseApiList()}},mounted:function(){this.getCaseApiList(),this.project=this.$route.params.project_id,this.case=this.$route.params.case_id,this.$route.params.firstID?this.firstID=this.$route.params.firstID:this.firstID="all"}},u=p,d=(a("5f4d"),a("2877")),m=Object(d["a"])(u,s,i,!1,null,"10e5a08f",null);e["default"]=m.exports},f490:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4e9a45fa.850b9d1f.js.map